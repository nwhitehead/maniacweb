<!DOCTYPE html>
<html lang="en">
<head>
<title>Editor Test</title>
<link rel="stylesheet" href="external/xterm.js/xterm.css" />
<style type="text/css" media="screen">
	.container {
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
	}
	.output {
		background-color: #dff;
		width: 100%;
	}
	.editor {
		font-size: 14px;
		width: 100%;
		height: 100%;
		border: solid 1px #000;
	}
	.terminal-container {
		background-color: #111;
		color: #fafafa;
		font-size: 85%;
		width: 100%;
		height: 100%;
	}
	.tbl {
		width: 100%;
		height: 100%;
		background-color: #888;
		table-layout: fixed;
	}
	.header {
		background-color: #0f0;
		height: 0;
		colspan: 2;
	}
</style>
<script src="external/xterm.js/xterm.js"></script>
<script src="external/xterm.js/fit.js"></script>
</head>
<body>

<div class="container">
	<table class="tbl">
		<tr class="header"><td colspan="2">Header bar</td></tr>
		<tr>
			<td rowspan="2">
				<div id="editor" class="editor">local inspect = require('inspect')
				local v = {x=5, y={}}
				print(inspect(v))
				</div>
			</td>
			<td>
				<canvas id="output" class="output" width=640 height=480></canvas>
			</td>
		</tr>
		<tr>
			<td>
				<div id="terminal-container" class="terminal-container">
				</div>
			</td>
		</tr>
	</table>
</div>

<script src="external/ace/ace-src-min-noconflict.js"></script>
<script src="external/ace/theme-twilight.js"></script>
<script src="external/ace/mode-lua.js"></script>
<script src="js/Console.js"></script>
<script>
	var editor =  ace.edit("editor");
	editor.setTheme("ace/theme/twilight");
	editor.getSession().setMode("ace/mode/lua");
	var version = "0.0.1";
	var msg = 
		"\x1b[35;1mManiacWebSDK Console\r\n" +
		"\x1b[0;35m~~~~~~~~~~~~~~~~~~~~\x1b[0m\r\n" +
		"\x1b[0;35mCopyright 2016 Nathan Whitehead and others\r\n\r\n";
	var console = Console.create('terminal-container', {
		banner: msg,
		responder: function (input, term) {
			var resp = input + "\r\n";
			term.write(resp);
		},
	});


</script>
</body>
</html>